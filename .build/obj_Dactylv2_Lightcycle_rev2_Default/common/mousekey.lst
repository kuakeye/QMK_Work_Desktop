   1               		.file	"mousekey.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.move_unit,"ax",@progbits
  12               	move_unit:
  13               	.LFB2:
  14               		.file 1 "./tmk_core/common/mousekey.c"
   1:./tmk_core/common/mousekey.c **** /*
   2:./tmk_core/common/mousekey.c **** Copyright 2011 Jun Wako <wakojun@gmail.com>
   3:./tmk_core/common/mousekey.c **** 
   4:./tmk_core/common/mousekey.c **** This program is free software: you can redistribute it and/or modify
   5:./tmk_core/common/mousekey.c **** it under the terms of the GNU General Public License as published by
   6:./tmk_core/common/mousekey.c **** the Free Software Foundation, either version 2 of the License, or
   7:./tmk_core/common/mousekey.c **** (at your option) any later version.
   8:./tmk_core/common/mousekey.c **** 
   9:./tmk_core/common/mousekey.c **** This program is distributed in the hope that it will be useful,
  10:./tmk_core/common/mousekey.c **** but WITHOUT ANY WARRANTY; without even the implied warranty of
  11:./tmk_core/common/mousekey.c **** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  12:./tmk_core/common/mousekey.c **** GNU General Public License for more details.
  13:./tmk_core/common/mousekey.c **** 
  14:./tmk_core/common/mousekey.c **** You should have received a copy of the GNU General Public License
  15:./tmk_core/common/mousekey.c **** along with this program.  If not, see <http://www.gnu.org/licenses/>.
  16:./tmk_core/common/mousekey.c **** */
  17:./tmk_core/common/mousekey.c **** 
  18:./tmk_core/common/mousekey.c **** #include <stdint.h>
  19:./tmk_core/common/mousekey.c **** #include "keycode.h"
  20:./tmk_core/common/mousekey.c **** #include "host.h"
  21:./tmk_core/common/mousekey.c **** #include "timer.h"
  22:./tmk_core/common/mousekey.c **** #include "print.h"
  23:./tmk_core/common/mousekey.c **** #include "debug.h"
  24:./tmk_core/common/mousekey.c **** #include "mousekey.h"
  25:./tmk_core/common/mousekey.c **** 
  26:./tmk_core/common/mousekey.c **** 
  27:./tmk_core/common/mousekey.c **** 
  28:./tmk_core/common/mousekey.c **** static report_mouse_t mouse_report = {};
  29:./tmk_core/common/mousekey.c **** static uint8_t mousekey_repeat =  0;
  30:./tmk_core/common/mousekey.c **** static uint8_t mousekey_accel = 0;
  31:./tmk_core/common/mousekey.c **** 
  32:./tmk_core/common/mousekey.c **** static void mousekey_debug(void);
  33:./tmk_core/common/mousekey.c **** 
  34:./tmk_core/common/mousekey.c **** 
  35:./tmk_core/common/mousekey.c **** /*
  36:./tmk_core/common/mousekey.c ****  * Mouse keys  acceleration algorithm
  37:./tmk_core/common/mousekey.c ****  *  http://en.wikipedia.org/wiki/Mouse_keys
  38:./tmk_core/common/mousekey.c ****  *
  39:./tmk_core/common/mousekey.c ****  *  speed = delta * max_speed * (repeat / time_to_max)**((1000+curve)/1000)
  40:./tmk_core/common/mousekey.c ****  */
  41:./tmk_core/common/mousekey.c **** /* milliseconds between the initial key press and first repeated motion event (0-2550) */
  42:./tmk_core/common/mousekey.c **** uint8_t mk_delay = MOUSEKEY_DELAY/10;
  43:./tmk_core/common/mousekey.c **** /* milliseconds between repeated motion events (0-255) */
  44:./tmk_core/common/mousekey.c **** uint8_t mk_interval = MOUSEKEY_INTERVAL;
  45:./tmk_core/common/mousekey.c **** /* steady speed (in action_delta units) applied each event (0-255) */
  46:./tmk_core/common/mousekey.c **** uint8_t mk_max_speed = MOUSEKEY_MAX_SPEED;
  47:./tmk_core/common/mousekey.c **** /* number of events (count) accelerating to steady speed (0-255) */
  48:./tmk_core/common/mousekey.c **** uint8_t mk_time_to_max = MOUSEKEY_TIME_TO_MAX;
  49:./tmk_core/common/mousekey.c **** /* ramp used to reach maximum pointer speed (NOT SUPPORTED) */
  50:./tmk_core/common/mousekey.c **** //int8_t mk_curve = 0;
  51:./tmk_core/common/mousekey.c **** /* wheel params */
  52:./tmk_core/common/mousekey.c **** uint8_t mk_wheel_max_speed = MOUSEKEY_WHEEL_MAX_SPEED;
  53:./tmk_core/common/mousekey.c **** uint8_t mk_wheel_time_to_max = MOUSEKEY_WHEEL_TIME_TO_MAX;
  54:./tmk_core/common/mousekey.c **** 
  55:./tmk_core/common/mousekey.c **** 
  56:./tmk_core/common/mousekey.c **** static uint16_t last_timer = 0;
  57:./tmk_core/common/mousekey.c **** 
  58:./tmk_core/common/mousekey.c **** inline int8_t times_inv_sqrt2(int8_t x)
  59:./tmk_core/common/mousekey.c **** {
  60:./tmk_core/common/mousekey.c ****     // 181/256 is pretty close to 1/sqrt(2)
  61:./tmk_core/common/mousekey.c ****     // 0.70703125                 0.707106781
  62:./tmk_core/common/mousekey.c ****     // 1 too small for x=99 and x=198
  63:./tmk_core/common/mousekey.c ****     // This ends up being a mult and discard lower 8 bits
  64:./tmk_core/common/mousekey.c ****     return (x * 181) >> 8;
  65:./tmk_core/common/mousekey.c **** }
  66:./tmk_core/common/mousekey.c **** 
  67:./tmk_core/common/mousekey.c **** static uint8_t move_unit(void)
  68:./tmk_core/common/mousekey.c **** {
  15               		.loc 1 68 1 view -0
  16               		.cfi_startproc
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  69:./tmk_core/common/mousekey.c ****     uint16_t unit;
  21               		.loc 1 69 5 view .LVU1
  70:./tmk_core/common/mousekey.c ****     if (mousekey_accel & (1<<0)) {
  22               		.loc 1 70 5 view .LVU2
  23               		.loc 1 70 24 is_stmt 0 view .LVU3
  24 0000 8091 0000 		lds r24,mousekey_accel
  25               		.loc 1 70 8 view .LVU4
  26 0004 80FF      		sbrs r24,0
  27 0006 00C0      		rjmp .L2
  71:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed)/4;
  28               		.loc 1 71 9 is_stmt 1 view .LVU5
  29               		.loc 1 71 37 is_stmt 0 view .LVU6
  30 0008 6091 0000 		lds r22,mk_max_speed
  31 000c 85E0      		ldi r24,lo8(5)
  32 000e 689F      		mul r22,r24
  33 0010 B001      		movw r22,r0
  34 0012 1124      		clr __zero_reg__
  35               		.loc 1 71 52 view .LVU7
  36 0014 7595      		asr r23
  37 0016 6795      		ror r22
  38 0018 7595      		asr r23
  39 001a 6795      		ror r22
  40               	.LVL0:
  41               	.L3:
  72:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<1)) {
  73:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed)/2;
  74:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
  75:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed);
  76:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat == 0) {
  77:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA;
  78:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat >= mk_time_to_max) {
  79:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA * mk_max_speed;
  80:./tmk_core/common/mousekey.c ****     } else {
  81:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed * mousekey_repeat) / mk_time_to_max;
  82:./tmk_core/common/mousekey.c ****     }
  83:./tmk_core/common/mousekey.c ****     return (unit > MOUSEKEY_MOVE_MAX ? MOUSEKEY_MOVE_MAX : (unit == 0 ? 1 : unit));
  42               		.loc 1 83 5 is_stmt 1 view .LVU8
  43               		.loc 1 83 58 is_stmt 0 view .LVU9
  44 001c 6038      		cpi r22,-128
  45 001e 7105      		cpc r23,__zero_reg__
  46 0020 00F4      		brsh .L10
  47               	.LVL1:
  48               		.loc 1 83 58 discriminator 1 view .LVU10
  49 0022 6115      		cp r22,__zero_reg__
  50 0024 7105      		cpc r23,__zero_reg__
  51 0026 01F0      		breq .L11
  52               	.L6:
  53               		.loc 1 83 58 discriminator 3 view .LVU11
  54 0028 862F      		mov r24,r22
  55 002a 0895      		ret
  56               	.L2:
  72:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<1)) {
  57               		.loc 1 72 12 is_stmt 1 view .LVU12
  72:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<1)) {
  58               		.loc 1 72 15 is_stmt 0 view .LVU13
  59 002c 81FF      		sbrs r24,1
  60 002e 00C0      		rjmp .L4
  73:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
  61               		.loc 1 73 9 is_stmt 1 view .LVU14
  73:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
  62               		.loc 1 73 37 is_stmt 0 view .LVU15
  63 0030 6091 0000 		lds r22,mk_max_speed
  64 0034 85E0      		ldi r24,lo8(5)
  65 0036 689F      		mul r22,r24
  66 0038 B001      		movw r22,r0
  67 003a 1124      		clr __zero_reg__
  73:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
  68               		.loc 1 73 52 view .LVU16
  69 003c 7595      		asr r23
  70 003e 6795      		ror r22
  71               	.LVL2:
  73:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
  72               		.loc 1 73 52 view .LVU17
  73 0040 00C0      		rjmp .L3
  74               	.LVL3:
  75               	.L4:
  74:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed);
  76               		.loc 1 74 12 is_stmt 1 view .LVU18
  75:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat == 0) {
  77               		.loc 1 75 37 is_stmt 0 view .LVU19
  78 0042 6091 0000 		lds r22,mk_max_speed
  74:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed);
  79               		.loc 1 74 15 view .LVU20
  80 0046 82FD      		sbrc r24,2
  81 0048 00C0      		rjmp .L12
  76:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA;
  82               		.loc 1 76 12 is_stmt 1 view .LVU21
  76:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA;
  83               		.loc 1 76 32 is_stmt 0 view .LVU22
  84 004a 8091 0000 		lds r24,mousekey_repeat
  76:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA;
  85               		.loc 1 76 15 view .LVU23
  86 004e 8823      		tst r24
  87 0050 01F0      		breq .L9
  78:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA * mk_max_speed;
  88               		.loc 1 78 12 is_stmt 1 view .LVU24
  78:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA * mk_max_speed;
  89               		.loc 1 78 32 is_stmt 0 view .LVU25
  90 0052 9091 0000 		lds r25,mk_time_to_max
  91 0056 6091 0000 		lds r22,mk_max_speed
  78:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_MOVE_DELTA * mk_max_speed;
  92               		.loc 1 78 15 view .LVU26
  93 005a 8917      		cp r24,r25
  94 005c 00F0      		brlo .L7
  95               	.L12:
  79:./tmk_core/common/mousekey.c ****     } else {
  96               		.loc 1 79 9 is_stmt 1 view .LVU27
  79:./tmk_core/common/mousekey.c ****     } else {
  97               		.loc 1 79 36 is_stmt 0 view .LVU28
  98 005e 85E0      		ldi r24,lo8(5)
  99 0060 689F      		mul r22,r24
 100 0062 B001      		movw r22,r0
 101 0064 1124      		clr __zero_reg__
 102               	.LVL4:
  79:./tmk_core/common/mousekey.c ****     } else {
 103               		.loc 1 79 36 view .LVU29
 104 0066 00C0      		rjmp .L3
 105               	.LVL5:
 106               	.L7:
  81:./tmk_core/common/mousekey.c ****     }
 107               		.loc 1 81 9 is_stmt 1 view .LVU30
  81:./tmk_core/common/mousekey.c ****     }
 108               		.loc 1 81 52 is_stmt 0 view .LVU31
 109 0068 869F      		mul r24,r22
 110 006a B001      		movw r22,r0
 111 006c 1124      		clr __zero_reg__
 112 006e 85E0      		ldi r24,lo8(5)
 113 0070 869F      		mul r24,r22
 114 0072 9001      		movw r18,r0
 115 0074 879F      		mul r24,r23
 116 0076 300D      		add r19,r0
 117 0078 1124      		clr __zero_reg__
  81:./tmk_core/common/mousekey.c ****     }
 118               		.loc 1 81 71 view .LVU32
 119 007a 692F      		mov r22,r25
 120 007c 70E0      		ldi r23,0
  81:./tmk_core/common/mousekey.c ****     }
 121               		.loc 1 81 14 view .LVU33
 122 007e C901      		movw r24,r18
 123 0080 0E94 0000 		call __divmodhi4
 124               	.LVL6:
  81:./tmk_core/common/mousekey.c ****     }
 125               		.loc 1 81 14 view .LVU34
 126 0084 00C0      		rjmp .L3
 127               	.LVL7:
 128               	.L9:
  77:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat >= mk_time_to_max) {
 129               		.loc 1 77 14 view .LVU35
 130 0086 65E0      		ldi r22,lo8(5)
 131 0088 70E0      		ldi r23,0
 132 008a 00C0      		rjmp .L6
 133               	.LVL8:
 134               	.L10:
 135               		.loc 1 83 58 view .LVU36
 136 008c 8FE7      		ldi r24,lo8(127)
 137 008e 0895      		ret
 138               	.LVL9:
 139               	.L11:
 140               		.loc 1 83 58 view .LVU37
 141 0090 81E0      		ldi r24,lo8(1)
 142               	/* epilogue start */
  84:./tmk_core/common/mousekey.c **** }
 143               		.loc 1 84 1 view .LVU38
 144 0092 0895      		ret
 145               		.cfi_endproc
 146               	.LFE2:
 148               		.section	.text.wheel_unit,"ax",@progbits
 150               	wheel_unit:
 151               	.LFB3:
  85:./tmk_core/common/mousekey.c **** 
  86:./tmk_core/common/mousekey.c **** static uint8_t wheel_unit(void)
  87:./tmk_core/common/mousekey.c **** {
 152               		.loc 1 87 1 is_stmt 1 view -0
 153               		.cfi_startproc
 154               	/* prologue: function */
 155               	/* frame size = 0 */
 156               	/* stack size = 0 */
 157               	.L__stack_usage = 0
  88:./tmk_core/common/mousekey.c ****     uint16_t unit;
 158               		.loc 1 88 5 view .LVU40
  89:./tmk_core/common/mousekey.c ****     if (mousekey_accel & (1<<0)) {
 159               		.loc 1 89 5 view .LVU41
 160               		.loc 1 89 24 is_stmt 0 view .LVU42
 161 0000 8091 0000 		lds r24,mousekey_accel
 162               		.loc 1 89 8 view .LVU43
 163 0004 80FF      		sbrs r24,0
 164 0006 00C0      		rjmp .L14
  90:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed)/4;
 165               		.loc 1 90 9 is_stmt 1 view .LVU44
 166               		.loc 1 90 38 is_stmt 0 view .LVU45
 167 0008 6091 0000 		lds r22,mk_wheel_max_speed
 168 000c 70E0      		ldi r23,0
 169               		.loc 1 90 59 view .LVU46
 170 000e 7595      		asr r23
 171 0010 6795      		ror r22
 172 0012 7595      		asr r23
 173 0014 6795      		ror r22
 174               	.LVL10:
 175               	.L15:
  91:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<1)) {
  92:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed)/2;
  93:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
  94:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed);
  95:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat == 0) {
  96:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA;
  97:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat >= mk_wheel_time_to_max) {
  98:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed;
  99:./tmk_core/common/mousekey.c ****     } else {
 100:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed * mousekey_repeat) / mk_wheel_time_to_max
 101:./tmk_core/common/mousekey.c ****     }
 102:./tmk_core/common/mousekey.c ****     return (unit > MOUSEKEY_WHEEL_MAX ? MOUSEKEY_WHEEL_MAX : (unit == 0 ? 1 : unit));
 176               		.loc 1 102 60 view .LVU47
 177 0016 6115      		cp r22,__zero_reg__
 178 0018 7105      		cpc r23,__zero_reg__
 179 001a 01F0      		breq .L24
 180               	.L19:
 181               		.loc 1 102 60 discriminator 3 view .LVU48
 182 001c 862F      		mov r24,r22
 183 001e 0895      		ret
 184               	.L14:
  91:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<1)) {
 185               		.loc 1 91 12 is_stmt 1 view .LVU49
  91:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<1)) {
 186               		.loc 1 91 15 is_stmt 0 view .LVU50
 187 0020 81FF      		sbrs r24,1
 188 0022 00C0      		rjmp .L16
  92:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
 189               		.loc 1 92 9 is_stmt 1 view .LVU51
  92:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
 190               		.loc 1 92 38 is_stmt 0 view .LVU52
 191 0024 6091 0000 		lds r22,mk_wheel_max_speed
 192 0028 70E0      		ldi r23,0
  92:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
 193               		.loc 1 92 59 view .LVU53
 194 002a 7595      		asr r23
 195 002c 6795      		ror r22
 196               	.LVL11:
  92:./tmk_core/common/mousekey.c ****     } else if (mousekey_accel & (1<<2)) {
 197               		.loc 1 92 59 view .LVU54
 198 002e 00C0      		rjmp .L15
 199               	.LVL12:
 200               	.L16:
  93:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed);
 201               		.loc 1 93 12 is_stmt 1 view .LVU55
  94:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat == 0) {
 202               		.loc 1 94 14 is_stmt 0 view .LVU56
 203 0030 6091 0000 		lds r22,mk_wheel_max_speed
  93:./tmk_core/common/mousekey.c ****         unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed);
 204               		.loc 1 93 15 view .LVU57
 205 0034 82FD      		sbrc r24,2
 206 0036 00C0      		rjmp .L25
  95:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA;
 207               		.loc 1 95 12 is_stmt 1 view .LVU58
  95:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA;
 208               		.loc 1 95 32 is_stmt 0 view .LVU59
 209 0038 9091 0000 		lds r25,mousekey_repeat
  95:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA;
 210               		.loc 1 95 15 view .LVU60
 211 003c 9923      		tst r25
 212 003e 01F0      		breq .L22
  97:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed;
 213               		.loc 1 97 12 is_stmt 1 view .LVU61
  97:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed;
 214               		.loc 1 97 32 is_stmt 0 view .LVU62
 215 0040 6091 0000 		lds r22,mk_wheel_time_to_max
 216 0044 8091 0000 		lds r24,mk_wheel_max_speed
  97:./tmk_core/common/mousekey.c ****         unit = MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed;
 217               		.loc 1 97 15 view .LVU63
 218 0048 9617      		cp r25,r22
 219 004a 00F0      		brlo .L20
  98:./tmk_core/common/mousekey.c ****     } else {
 220               		.loc 1 98 9 is_stmt 1 view .LVU64
  98:./tmk_core/common/mousekey.c ****     } else {
 221               		.loc 1 98 14 is_stmt 0 view .LVU65
 222 004c 682F      		mov r22,r24
 223               	.L25:
 224 004e 70E0      		ldi r23,0
 225               	.LVL13:
 226               	.L18:
 227               		.loc 1 102 5 is_stmt 1 view .LVU66
 228               		.loc 1 102 60 is_stmt 0 view .LVU67
 229 0050 6038      		cpi r22,-128
 230 0052 7105      		cpc r23,__zero_reg__
 231 0054 00F0      		brlo .L15
 232 0056 8FE7      		ldi r24,lo8(127)
 233 0058 0895      		ret
 234               	.LVL14:
 235               	.L20:
 100:./tmk_core/common/mousekey.c ****     }
 236               		.loc 1 100 9 is_stmt 1 view .LVU68
 100:./tmk_core/common/mousekey.c ****     }
 237               		.loc 1 100 59 is_stmt 0 view .LVU69
 238 005a 899F      		mul r24,r25
 239 005c C001      		movw r24,r0
 240 005e 1124      		clr __zero_reg__
 100:./tmk_core/common/mousekey.c ****     }
 241               		.loc 1 100 78 view .LVU70
 242 0060 70E0      		ldi r23,0
 100:./tmk_core/common/mousekey.c ****     }
 243               		.loc 1 100 14 view .LVU71
 244 0062 0E94 0000 		call __divmodhi4
 245               	.LVL15:
 100:./tmk_core/common/mousekey.c ****     }
 246               		.loc 1 100 14 view .LVU72
 247 0066 00C0      		rjmp .L18
 248               	.LVL16:
 249               	.L22:
  96:./tmk_core/common/mousekey.c ****     } else if (mousekey_repeat >= mk_wheel_time_to_max) {
 250               		.loc 1 96 14 view .LVU73
 251 0068 61E0      		ldi r22,lo8(1)
 252 006a 70E0      		ldi r23,0
 253 006c 00C0      		rjmp .L19
 254               	.L24:
 255               		.loc 1 102 60 view .LVU74
 256 006e 81E0      		ldi r24,lo8(1)
 257               	/* epilogue start */
 103:./tmk_core/common/mousekey.c **** }
 258               		.loc 1 103 1 view .LVU75
 259 0070 0895      		ret
 260               		.cfi_endproc
 261               	.LFE3:
 263               		.section	.text.mousekey_on,"ax",@progbits
 264               	.global	mousekey_on
 266               	mousekey_on:
 267               	.LVL17:
 268               	.LFB5:
 104:./tmk_core/common/mousekey.c **** 
 105:./tmk_core/common/mousekey.c **** void mousekey_task(void)
 106:./tmk_core/common/mousekey.c **** {
 107:./tmk_core/common/mousekey.c ****     if (timer_elapsed(last_timer) < (mousekey_repeat ? mk_interval : mk_delay*10))
 108:./tmk_core/common/mousekey.c ****         return;
 109:./tmk_core/common/mousekey.c **** 
 110:./tmk_core/common/mousekey.c ****     if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0)
 111:./tmk_core/common/mousekey.c ****         return;
 112:./tmk_core/common/mousekey.c **** 
 113:./tmk_core/common/mousekey.c ****     if (mousekey_repeat != UINT8_MAX)
 114:./tmk_core/common/mousekey.c ****         mousekey_repeat++;
 115:./tmk_core/common/mousekey.c **** 
 116:./tmk_core/common/mousekey.c **** 
 117:./tmk_core/common/mousekey.c ****     if (mouse_report.x > 0) mouse_report.x = move_unit();
 118:./tmk_core/common/mousekey.c ****     if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 119:./tmk_core/common/mousekey.c ****     if (mouse_report.y > 0) mouse_report.y = move_unit();
 120:./tmk_core/common/mousekey.c ****     if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 121:./tmk_core/common/mousekey.c **** 
 122:./tmk_core/common/mousekey.c ****     /* diagonal move [1/sqrt(2)] */
 123:./tmk_core/common/mousekey.c ****     if (mouse_report.x && mouse_report.y) {
 124:./tmk_core/common/mousekey.c ****         mouse_report.x = times_inv_sqrt2(mouse_report.x);
 125:./tmk_core/common/mousekey.c ****         mouse_report.y = times_inv_sqrt2(mouse_report.y);
 126:./tmk_core/common/mousekey.c ****     }
 127:./tmk_core/common/mousekey.c **** 
 128:./tmk_core/common/mousekey.c ****     if (mouse_report.v > 0) mouse_report.v = wheel_unit();
 129:./tmk_core/common/mousekey.c ****     if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 130:./tmk_core/common/mousekey.c ****     if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 131:./tmk_core/common/mousekey.c ****     if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 132:./tmk_core/common/mousekey.c **** 
 133:./tmk_core/common/mousekey.c ****     mousekey_send();
 134:./tmk_core/common/mousekey.c **** }
 135:./tmk_core/common/mousekey.c **** 
 136:./tmk_core/common/mousekey.c **** void mousekey_on(uint8_t code)
 137:./tmk_core/common/mousekey.c **** {
 269               		.loc 1 137 1 is_stmt 1 view -0
 270               		.cfi_startproc
 271               	/* prologue: function */
 272               	/* frame size = 0 */
 273               	/* stack size = 0 */
 274               	.L__stack_usage = 0
 138:./tmk_core/common/mousekey.c ****     if      (code == KC_MS_UP)       mouse_report.y = move_unit() * -1;
 275               		.loc 1 138 5 view .LVU77
 276               		.loc 1 138 13 is_stmt 0 view .LVU78
 277 0000 803F      		cpi r24,lo8(-16)
 278 0002 01F4      		brne .L27
 279               		.loc 1 138 38 is_stmt 1 discriminator 1 view .LVU79
 280               		.loc 1 138 55 is_stmt 0 discriminator 1 view .LVU80
 281 0004 0E94 0000 		call move_unit
 282               	.LVL18:
 283               		.loc 1 138 53 discriminator 1 view .LVU81
 284 0008 8195      		neg r24
 285               	.L43:
 139:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_DOWN)     mouse_report.y = move_unit();
 286               		.loc 1 139 53 discriminator 1 view .LVU82
 287 000a 8093 0000 		sts mouse_report+2,r24
 288 000e 0895      		ret
 289               	.LVL19:
 290               	.L27:
 291               		.loc 1 139 10 is_stmt 1 view .LVU83
 292               		.loc 1 139 13 is_stmt 0 view .LVU84
 293 0010 813F      		cpi r24,lo8(-15)
 294 0012 01F4      		brne .L29
 295               		.loc 1 139 38 is_stmt 1 discriminator 1 view .LVU85
 296               		.loc 1 139 55 is_stmt 0 discriminator 1 view .LVU86
 297 0014 0E94 0000 		call move_unit
 298               	.LVL20:
 299               		.loc 1 139 55 discriminator 1 view .LVU87
 300 0018 00C0      		rjmp .L43
 301               	.LVL21:
 302               	.L29:
 140:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_LEFT)     mouse_report.x = move_unit() * -1;
 303               		.loc 1 140 10 is_stmt 1 view .LVU88
 304               		.loc 1 140 13 is_stmt 0 view .LVU89
 305 001a 823F      		cpi r24,lo8(-14)
 306 001c 01F4      		brne .L30
 307               		.loc 1 140 38 is_stmt 1 discriminator 1 view .LVU90
 308               		.loc 1 140 55 is_stmt 0 discriminator 1 view .LVU91
 309 001e 0E94 0000 		call move_unit
 310               	.LVL22:
 311               		.loc 1 140 53 discriminator 1 view .LVU92
 312 0022 8195      		neg r24
 313               	.L45:
 141:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT)    mouse_report.x = move_unit();
 314               		.loc 1 141 53 discriminator 1 view .LVU93
 315 0024 8093 0000 		sts mouse_report+1,r24
 316 0028 0895      		ret
 317               	.LVL23:
 318               	.L30:
 319               		.loc 1 141 10 is_stmt 1 view .LVU94
 320               		.loc 1 141 13 is_stmt 0 view .LVU95
 321 002a 833F      		cpi r24,lo8(-13)
 322 002c 01F4      		brne .L31
 323               		.loc 1 141 38 is_stmt 1 discriminator 1 view .LVU96
 324               		.loc 1 141 55 is_stmt 0 discriminator 1 view .LVU97
 325 002e 0E94 0000 		call move_unit
 326               	.LVL24:
 327               		.loc 1 141 55 discriminator 1 view .LVU98
 328 0032 00C0      		rjmp .L45
 329               	.LVL25:
 330               	.L31:
 142:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_UP)    mouse_report.v = wheel_unit();
 331               		.loc 1 142 10 is_stmt 1 view .LVU99
 332               		.loc 1 142 13 is_stmt 0 view .LVU100
 333 0034 893F      		cpi r24,lo8(-7)
 334 0036 01F4      		brne .L32
 335               		.loc 1 142 38 is_stmt 1 discriminator 1 view .LVU101
 336               		.loc 1 142 55 is_stmt 0 discriminator 1 view .LVU102
 337 0038 0E94 0000 		call wheel_unit
 338               	.LVL26:
 339               	.L47:
 143:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN)  mouse_report.v = wheel_unit() * -1;
 340               		.loc 1 143 53 discriminator 1 view .LVU103
 341 003c 8093 0000 		sts mouse_report+3,r24
 342 0040 0895      		ret
 343               	.LVL27:
 344               	.L32:
 345               		.loc 1 143 10 is_stmt 1 view .LVU104
 346               		.loc 1 143 13 is_stmt 0 view .LVU105
 347 0042 8A3F      		cpi r24,lo8(-6)
 348 0044 01F4      		brne .L33
 349               		.loc 1 143 38 is_stmt 1 discriminator 1 view .LVU106
 350               		.loc 1 143 55 is_stmt 0 discriminator 1 view .LVU107
 351 0046 0E94 0000 		call wheel_unit
 352               	.LVL28:
 353               		.loc 1 143 53 discriminator 1 view .LVU108
 354 004a 8195      		neg r24
 355 004c 00C0      		rjmp .L47
 356               	.LVL29:
 357               	.L33:
 144:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_LEFT)  mouse_report.h = wheel_unit() * -1;
 358               		.loc 1 144 10 is_stmt 1 view .LVU109
 359               		.loc 1 144 13 is_stmt 0 view .LVU110
 360 004e 8B3F      		cpi r24,lo8(-5)
 361 0050 01F4      		brne .L34
 362               		.loc 1 144 38 is_stmt 1 discriminator 1 view .LVU111
 363               		.loc 1 144 55 is_stmt 0 discriminator 1 view .LVU112
 364 0052 0E94 0000 		call wheel_unit
 365               	.LVL30:
 366               		.loc 1 144 53 discriminator 1 view .LVU113
 367 0056 8195      		neg r24
 368               	.L48:
 145:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT) mouse_report.h = wheel_unit();
 369               		.loc 1 145 53 discriminator 1 view .LVU114
 370 0058 8093 0000 		sts mouse_report+4,r24
 371 005c 0895      		ret
 372               	.LVL31:
 373               	.L34:
 374               		.loc 1 145 10 is_stmt 1 view .LVU115
 375               		.loc 1 145 13 is_stmt 0 view .LVU116
 376 005e 8C3F      		cpi r24,lo8(-4)
 377 0060 01F4      		brne .L35
 378               		.loc 1 145 38 is_stmt 1 discriminator 1 view .LVU117
 379               		.loc 1 145 55 is_stmt 0 discriminator 1 view .LVU118
 380 0062 0E94 0000 		call wheel_unit
 381               	.LVL32:
 382               		.loc 1 145 55 discriminator 1 view .LVU119
 383 0066 00C0      		rjmp .L48
 384               	.LVL33:
 385               	.L35:
 146:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN1)     mouse_report.buttons |= MOUSE_BTN1;
 386               		.loc 1 146 10 is_stmt 1 view .LVU120
 387               		.loc 1 146 13 is_stmt 0 view .LVU121
 388 0068 843F      		cpi r24,lo8(-12)
 389 006a 01F4      		brne .L36
 390               		.loc 1 146 38 is_stmt 1 discriminator 1 view .LVU122
 391               		.loc 1 146 59 is_stmt 0 discriminator 1 view .LVU123
 392 006c 8091 0000 		lds r24,mouse_report
 393               	.LVL34:
 394               		.loc 1 146 59 discriminator 1 view .LVU124
 395 0070 8160      		ori r24,lo8(1)
 396               	.L46:
 147:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 148:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3)     mouse_report.buttons |= MOUSE_BTN3;
 149:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 150:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 397               		.loc 1 150 59 discriminator 1 view .LVU125
 398 0072 8093 0000 		sts mouse_report,r24
 399 0076 0895      		ret
 400               	.LVL35:
 401               	.L36:
 147:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 402               		.loc 1 147 10 is_stmt 1 view .LVU126
 147:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 403               		.loc 1 147 13 is_stmt 0 view .LVU127
 404 0078 853F      		cpi r24,lo8(-11)
 405 007a 01F4      		brne .L37
 147:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 406               		.loc 1 147 38 is_stmt 1 discriminator 1 view .LVU128
 147:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 407               		.loc 1 147 59 is_stmt 0 discriminator 1 view .LVU129
 408 007c 8091 0000 		lds r24,mouse_report
 409               	.LVL36:
 147:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 410               		.loc 1 147 59 discriminator 1 view .LVU130
 411 0080 8260      		ori r24,lo8(2)
 412 0082 00C0      		rjmp .L46
 413               	.LVL37:
 414               	.L37:
 148:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 415               		.loc 1 148 10 is_stmt 1 view .LVU131
 148:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 416               		.loc 1 148 13 is_stmt 0 view .LVU132
 417 0084 863F      		cpi r24,lo8(-10)
 418 0086 01F4      		brne .L38
 148:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 419               		.loc 1 148 38 is_stmt 1 discriminator 1 view .LVU133
 148:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 420               		.loc 1 148 59 is_stmt 0 discriminator 1 view .LVU134
 421 0088 8091 0000 		lds r24,mouse_report
 422               	.LVL38:
 148:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 423               		.loc 1 148 59 discriminator 1 view .LVU135
 424 008c 8460      		ori r24,lo8(4)
 425 008e 00C0      		rjmp .L46
 426               	.LVL39:
 427               	.L38:
 149:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 428               		.loc 1 149 10 is_stmt 1 view .LVU136
 149:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 429               		.loc 1 149 13 is_stmt 0 view .LVU137
 430 0090 873F      		cpi r24,lo8(-9)
 431 0092 01F4      		brne .L39
 149:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 432               		.loc 1 149 38 is_stmt 1 discriminator 1 view .LVU138
 149:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 433               		.loc 1 149 59 is_stmt 0 discriminator 1 view .LVU139
 434 0094 8091 0000 		lds r24,mouse_report
 435               	.LVL40:
 149:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 436               		.loc 1 149 59 discriminator 1 view .LVU140
 437 0098 8860      		ori r24,lo8(8)
 438 009a 00C0      		rjmp .L46
 439               	.LVL41:
 440               	.L39:
 441               		.loc 1 150 10 is_stmt 1 view .LVU141
 442               		.loc 1 150 13 is_stmt 0 view .LVU142
 443 009c 883F      		cpi r24,lo8(-8)
 444 009e 01F4      		brne .L40
 445               		.loc 1 150 38 is_stmt 1 discriminator 1 view .LVU143
 446               		.loc 1 150 59 is_stmt 0 discriminator 1 view .LVU144
 447 00a0 8091 0000 		lds r24,mouse_report
 448               	.LVL42:
 449               		.loc 1 150 59 discriminator 1 view .LVU145
 450 00a4 8061      		ori r24,lo8(16)
 451 00a6 00C0      		rjmp .L46
 452               	.LVL43:
 453               	.L40:
 151:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0)   mousekey_accel |= (1<<0);
 454               		.loc 1 151 10 is_stmt 1 view .LVU146
 455               		.loc 1 151 13 is_stmt 0 view .LVU147
 456 00a8 8D3F      		cpi r24,lo8(-3)
 457 00aa 01F4      		brne .L41
 458               		.loc 1 151 38 is_stmt 1 discriminator 1 view .LVU148
 459               		.loc 1 151 53 is_stmt 0 discriminator 1 view .LVU149
 460 00ac 8091 0000 		lds r24,mousekey_accel
 461               	.LVL44:
 462               		.loc 1 151 53 discriminator 1 view .LVU150
 463 00b0 8160      		ori r24,lo8(1)
 464               	.L44:
 152:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 153:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2)   mousekey_accel |= (1<<2);
 465               		.loc 1 153 53 discriminator 1 view .LVU151
 466 00b2 8093 0000 		sts mousekey_accel,r24
 467               	.L26:
 468               	/* epilogue start */
 154:./tmk_core/common/mousekey.c **** }
 469               		.loc 1 154 1 view .LVU152
 470 00b6 0895      		ret
 471               	.LVL45:
 472               	.L41:
 152:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 473               		.loc 1 152 10 is_stmt 1 view .LVU153
 152:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 474               		.loc 1 152 13 is_stmt 0 view .LVU154
 475 00b8 8E3F      		cpi r24,lo8(-2)
 476 00ba 01F4      		brne .L42
 152:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 477               		.loc 1 152 38 is_stmt 1 discriminator 1 view .LVU155
 152:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 478               		.loc 1 152 53 is_stmt 0 discriminator 1 view .LVU156
 479 00bc 8091 0000 		lds r24,mousekey_accel
 480               	.LVL46:
 152:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 481               		.loc 1 152 53 discriminator 1 view .LVU157
 482 00c0 8260      		ori r24,lo8(2)
 483 00c2 00C0      		rjmp .L44
 484               	.LVL47:
 485               	.L42:
 153:./tmk_core/common/mousekey.c **** }
 486               		.loc 1 153 10 is_stmt 1 view .LVU158
 153:./tmk_core/common/mousekey.c **** }
 487               		.loc 1 153 13 is_stmt 0 view .LVU159
 488 00c4 8F3F      		cpi r24,lo8(-1)
 489 00c6 01F4      		brne .L26
 153:./tmk_core/common/mousekey.c **** }
 490               		.loc 1 153 38 is_stmt 1 discriminator 1 view .LVU160
 153:./tmk_core/common/mousekey.c **** }
 491               		.loc 1 153 53 is_stmt 0 discriminator 1 view .LVU161
 492 00c8 8091 0000 		lds r24,mousekey_accel
 493               	.LVL48:
 153:./tmk_core/common/mousekey.c **** }
 494               		.loc 1 153 53 discriminator 1 view .LVU162
 495 00cc 8460      		ori r24,lo8(4)
 496 00ce 00C0      		rjmp .L44
 497               		.cfi_endproc
 498               	.LFE5:
 500               		.section	.text.mousekey_off,"ax",@progbits
 501               	.global	mousekey_off
 503               	mousekey_off:
 504               	.LVL49:
 505               	.LFB6:
 155:./tmk_core/common/mousekey.c **** 
 156:./tmk_core/common/mousekey.c **** void mousekey_off(uint8_t code)
 157:./tmk_core/common/mousekey.c **** {
 506               		.loc 1 157 1 is_stmt 1 view -0
 507               		.cfi_startproc
 508               	/* prologue: function */
 509               	/* frame size = 0 */
 510               	/* stack size = 0 */
 511               	.L__stack_usage = 0
 158:./tmk_core/common/mousekey.c ****     if      (code == KC_MS_UP       && mouse_report.y < 0) mouse_report.y = 0;
 512               		.loc 1 158 5 view .LVU164
 513 0000 9091 0000 		lds r25,mouse_report+1
 514               		.loc 1 158 13 is_stmt 0 view .LVU165
 515 0004 803F      		cpi r24,lo8(-16)
 516 0006 01F4      		brne .L50
 517               		.loc 1 158 37 discriminator 1 view .LVU166
 518 0008 8091 0000 		lds r24,mouse_report+2
 519               	.LVL50:
 520               		.loc 1 158 37 discriminator 1 view .LVU167
 521 000c 87FD      		sbrc r24,7
 522               	.L53:
 523               		.loc 1 158 60 is_stmt 1 discriminator 2 view .LVU168
 524               		.loc 1 158 75 is_stmt 0 discriminator 2 view .LVU169
 525 000e 1092 0000 		sts mouse_report+2,__zero_reg__
 526               	.L51:
 159:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 160:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_LEFT     && mouse_report.x < 0) mouse_report.x = 0;
 161:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 163:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 165:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 166:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 167:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 168:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 169:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 171:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 172:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 173:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 174:./tmk_core/common/mousekey.c **** 
 175:./tmk_core/common/mousekey.c ****     if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0)
 527               		.loc 1 175 5 is_stmt 1 view .LVU170
 528               		.loc 1 175 8 is_stmt 0 view .LVU171
 529 0012 9923      		tst r25
 530 0014 01F0      		breq .L55
 531               	.L49:
 532               	/* epilogue start */
 176:./tmk_core/common/mousekey.c ****         mousekey_repeat = 0;
 177:./tmk_core/common/mousekey.c **** }
 533               		.loc 1 177 1 view .LVU172
 534 0016 0895      		ret
 535               	.LVL51:
 536               	.L50:
 159:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 537               		.loc 1 159 10 is_stmt 1 view .LVU173
 159:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 538               		.loc 1 159 13 is_stmt 0 view .LVU174
 539 0018 813F      		cpi r24,lo8(-15)
 540 001a 01F4      		brne .L52
 159:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 541               		.loc 1 159 37 discriminator 1 view .LVU175
 542 001c 8091 0000 		lds r24,mouse_report+2
 543               	.LVL52:
 159:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 544               		.loc 1 159 37 discriminator 1 view .LVU176
 545 0020 1816      		cp __zero_reg__,r24
 546 0022 04F0      		brlt .L53
 547 0024 00C0      		rjmp .L51
 548               	.LVL53:
 549               	.L52:
 160:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 550               		.loc 1 160 10 is_stmt 1 view .LVU177
 160:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 551               		.loc 1 160 13 is_stmt 0 view .LVU178
 552 0026 823F      		cpi r24,lo8(-14)
 553 0028 01F4      		brne .L54
 160:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 554               		.loc 1 160 37 discriminator 1 view .LVU179
 555 002a 97FF      		sbrs r25,7
 556 002c 00C0      		rjmp .L51
 557               	.L57:
 160:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 558               		.loc 1 160 60 is_stmt 1 discriminator 2 view .LVU180
 160:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 559               		.loc 1 160 75 is_stmt 0 discriminator 2 view .LVU181
 560 002e 1092 0000 		sts mouse_report+1,__zero_reg__
 561               	.LVL54:
 562               	.L55:
 175:./tmk_core/common/mousekey.c ****         mousekey_repeat = 0;
 563               		.loc 1 175 5 is_stmt 1 view .LVU182
 175:./tmk_core/common/mousekey.c ****         mousekey_repeat = 0;
 564               		.loc 1 175 75 is_stmt 0 view .LVU183
 565 0032 8091 0000 		lds r24,mouse_report+2
 566 0036 9091 0000 		lds r25,mouse_report+3
 567 003a 892B      		or r24,r25
 568 003c 9091 0000 		lds r25,mouse_report+4
 569 0040 892B      		or r24,r25
 570 0042 01F4      		brne .L49
 176:./tmk_core/common/mousekey.c ****         mousekey_repeat = 0;
 571               		.loc 1 176 9 is_stmt 1 view .LVU184
 176:./tmk_core/common/mousekey.c ****         mousekey_repeat = 0;
 572               		.loc 1 176 25 is_stmt 0 view .LVU185
 573 0044 1092 0000 		sts mousekey_repeat,__zero_reg__
 574               		.loc 1 177 1 view .LVU186
 575 0048 0895      		ret
 576               	.LVL55:
 577               	.L54:
 161:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 578               		.loc 1 161 10 is_stmt 1 view .LVU187
 161:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 579               		.loc 1 161 13 is_stmt 0 view .LVU188
 580 004a 833F      		cpi r24,lo8(-13)
 581 004c 01F4      		brne .L56
 161:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 582               		.loc 1 161 37 discriminator 1 view .LVU189
 583 004e 1916      		cp __zero_reg__,r25
 584 0050 04F0      		brlt .L57
 585 0052 00C0      		rjmp .L51
 586               	.L56:
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 587               		.loc 1 162 10 is_stmt 1 view .LVU190
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 588               		.loc 1 162 13 is_stmt 0 view .LVU191
 589 0054 893F      		cpi r24,lo8(-7)
 590 0056 01F4      		brne .L58
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 591               		.loc 1 162 37 discriminator 1 view .LVU192
 592 0058 8091 0000 		lds r24,mouse_report+3
 593               	.LVL56:
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 594               		.loc 1 162 37 discriminator 1 view .LVU193
 595 005c 1816      		cp __zero_reg__,r24
 596 005e 04F4      		brge .L51
 597               	.L60:
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 598               		.loc 1 162 60 is_stmt 1 discriminator 2 view .LVU194
 162:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 599               		.loc 1 162 75 is_stmt 0 discriminator 2 view .LVU195
 600 0060 1092 0000 		sts mouse_report+3,__zero_reg__
 601 0064 00C0      		rjmp .L51
 602               	.LVL57:
 603               	.L58:
 163:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 604               		.loc 1 163 10 is_stmt 1 view .LVU196
 163:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 605               		.loc 1 163 13 is_stmt 0 view .LVU197
 606 0066 8A3F      		cpi r24,lo8(-6)
 607 0068 01F4      		brne .L59
 163:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 608               		.loc 1 163 37 discriminator 1 view .LVU198
 609 006a 8091 0000 		lds r24,mouse_report+3
 610               	.LVL58:
 163:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 611               		.loc 1 163 37 discriminator 1 view .LVU199
 612 006e 87FF      		sbrs r24,7
 613 0070 00C0      		rjmp .L51
 614 0072 00C0      		rjmp .L60
 615               	.LVL59:
 616               	.L59:
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 617               		.loc 1 164 10 is_stmt 1 view .LVU200
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 618               		.loc 1 164 13 is_stmt 0 view .LVU201
 619 0074 8B3F      		cpi r24,lo8(-5)
 620 0076 01F4      		brne .L61
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 621               		.loc 1 164 37 discriminator 1 view .LVU202
 622 0078 8091 0000 		lds r24,mouse_report+4
 623               	.LVL60:
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 624               		.loc 1 164 37 discriminator 1 view .LVU203
 625 007c 87FF      		sbrs r24,7
 626 007e 00C0      		rjmp .L51
 627               	.L63:
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 628               		.loc 1 164 60 is_stmt 1 discriminator 2 view .LVU204
 164:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 629               		.loc 1 164 75 is_stmt 0 discriminator 2 view .LVU205
 630 0080 1092 0000 		sts mouse_report+4,__zero_reg__
 631 0084 00C0      		rjmp .L51
 632               	.LVL61:
 633               	.L61:
 165:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 634               		.loc 1 165 10 is_stmt 1 view .LVU206
 165:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 635               		.loc 1 165 13 is_stmt 0 view .LVU207
 636 0086 8C3F      		cpi r24,lo8(-4)
 637 0088 01F4      		brne .L62
 165:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 638               		.loc 1 165 37 discriminator 1 view .LVU208
 639 008a 8091 0000 		lds r24,mouse_report+4
 640               	.LVL62:
 165:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 641               		.loc 1 165 37 discriminator 1 view .LVU209
 642 008e 1816      		cp __zero_reg__,r24
 643 0090 04F0      		brlt .L63
 644 0092 00C0      		rjmp .L51
 645               	.LVL63:
 646               	.L62:
 166:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 647               		.loc 1 166 10 is_stmt 1 view .LVU210
 166:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 648               		.loc 1 166 13 is_stmt 0 view .LVU211
 649 0094 843F      		cpi r24,lo8(-12)
 650 0096 01F4      		brne .L64
 166:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 651               		.loc 1 166 34 is_stmt 1 discriminator 1 view .LVU212
 166:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 652               		.loc 1 166 55 is_stmt 0 discriminator 1 view .LVU213
 653 0098 8091 0000 		lds r24,mouse_report
 654               	.LVL64:
 166:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 655               		.loc 1 166 55 discriminator 1 view .LVU214
 656 009c 8E7F      		andi r24,lo8(-2)
 657               	.L77:
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 658               		.loc 1 170 55 discriminator 1 view .LVU215
 659 009e 8093 0000 		sts mouse_report,r24
 660 00a2 00C0      		rjmp .L51
 661               	.LVL65:
 662               	.L64:
 167:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 663               		.loc 1 167 10 is_stmt 1 view .LVU216
 167:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 664               		.loc 1 167 13 is_stmt 0 view .LVU217
 665 00a4 853F      		cpi r24,lo8(-11)
 666 00a6 01F4      		brne .L65
 167:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 667               		.loc 1 167 34 is_stmt 1 discriminator 1 view .LVU218
 167:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 668               		.loc 1 167 55 is_stmt 0 discriminator 1 view .LVU219
 669 00a8 8091 0000 		lds r24,mouse_report
 670               	.LVL66:
 167:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 671               		.loc 1 167 55 discriminator 1 view .LVU220
 672 00ac 8D7F      		andi r24,lo8(-3)
 673 00ae 00C0      		rjmp .L77
 674               	.LVL67:
 675               	.L65:
 168:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 676               		.loc 1 168 10 is_stmt 1 view .LVU221
 168:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 677               		.loc 1 168 13 is_stmt 0 view .LVU222
 678 00b0 863F      		cpi r24,lo8(-10)
 679 00b2 01F4      		brne .L66
 168:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 680               		.loc 1 168 34 is_stmt 1 discriminator 1 view .LVU223
 168:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 681               		.loc 1 168 55 is_stmt 0 discriminator 1 view .LVU224
 682 00b4 8091 0000 		lds r24,mouse_report
 683               	.LVL68:
 168:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 684               		.loc 1 168 55 discriminator 1 view .LVU225
 685 00b8 8B7F      		andi r24,lo8(-5)
 686 00ba 00C0      		rjmp .L77
 687               	.LVL69:
 688               	.L66:
 169:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 689               		.loc 1 169 10 is_stmt 1 view .LVU226
 169:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 690               		.loc 1 169 13 is_stmt 0 view .LVU227
 691 00bc 873F      		cpi r24,lo8(-9)
 692 00be 01F4      		brne .L67
 169:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 693               		.loc 1 169 34 is_stmt 1 discriminator 1 view .LVU228
 169:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 694               		.loc 1 169 55 is_stmt 0 discriminator 1 view .LVU229
 695 00c0 8091 0000 		lds r24,mouse_report
 696               	.LVL70:
 169:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 697               		.loc 1 169 55 discriminator 1 view .LVU230
 698 00c4 877F      		andi r24,lo8(-9)
 699 00c6 00C0      		rjmp .L77
 700               	.LVL71:
 701               	.L67:
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 702               		.loc 1 170 10 is_stmt 1 view .LVU231
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 703               		.loc 1 170 13 is_stmt 0 view .LVU232
 704 00c8 883F      		cpi r24,lo8(-8)
 705 00ca 01F4      		brne .L68
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 706               		.loc 1 170 34 is_stmt 1 discriminator 1 view .LVU233
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 707               		.loc 1 170 55 is_stmt 0 discriminator 1 view .LVU234
 708 00cc 8091 0000 		lds r24,mouse_report
 709               	.LVL72:
 170:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 710               		.loc 1 170 55 discriminator 1 view .LVU235
 711 00d0 8F7E      		andi r24,lo8(-17)
 712 00d2 00C0      		rjmp .L77
 713               	.LVL73:
 714               	.L68:
 171:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 715               		.loc 1 171 10 is_stmt 1 view .LVU236
 171:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 716               		.loc 1 171 13 is_stmt 0 view .LVU237
 717 00d4 8D3F      		cpi r24,lo8(-3)
 718 00d6 01F4      		brne .L69
 171:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 719               		.loc 1 171 36 is_stmt 1 discriminator 1 view .LVU238
 171:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 720               		.loc 1 171 51 is_stmt 0 discriminator 1 view .LVU239
 721 00d8 8091 0000 		lds r24,mousekey_accel
 722               	.LVL74:
 171:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 723               		.loc 1 171 51 discriminator 1 view .LVU240
 724 00dc 8E7F      		andi r24,lo8(-2)
 725               	.L78:
 173:./tmk_core/common/mousekey.c **** 
 726               		.loc 1 173 51 discriminator 1 view .LVU241
 727 00de 8093 0000 		sts mousekey_accel,r24
 728 00e2 00C0      		rjmp .L51
 729               	.LVL75:
 730               	.L69:
 172:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 731               		.loc 1 172 10 is_stmt 1 view .LVU242
 172:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 732               		.loc 1 172 13 is_stmt 0 view .LVU243
 733 00e4 8E3F      		cpi r24,lo8(-2)
 734 00e6 01F4      		brne .L70
 172:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 735               		.loc 1 172 36 is_stmt 1 discriminator 1 view .LVU244
 172:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 736               		.loc 1 172 51 is_stmt 0 discriminator 1 view .LVU245
 737 00e8 8091 0000 		lds r24,mousekey_accel
 738               	.LVL76:
 172:./tmk_core/common/mousekey.c ****     else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 739               		.loc 1 172 51 discriminator 1 view .LVU246
 740 00ec 8D7F      		andi r24,lo8(-3)
 741 00ee 00C0      		rjmp .L78
 742               	.LVL77:
 743               	.L70:
 173:./tmk_core/common/mousekey.c **** 
 744               		.loc 1 173 10 is_stmt 1 view .LVU247
 173:./tmk_core/common/mousekey.c **** 
 745               		.loc 1 173 13 is_stmt 0 view .LVU248
 746 00f0 8F3F      		cpi r24,lo8(-1)
 747 00f2 01F0      		breq .+2
 748 00f4 00C0      		rjmp .L51
 173:./tmk_core/common/mousekey.c **** 
 749               		.loc 1 173 36 is_stmt 1 discriminator 1 view .LVU249
 173:./tmk_core/common/mousekey.c **** 
 750               		.loc 1 173 51 is_stmt 0 discriminator 1 view .LVU250
 751 00f6 8091 0000 		lds r24,mousekey_accel
 752               	.LVL78:
 173:./tmk_core/common/mousekey.c **** 
 753               		.loc 1 173 51 discriminator 1 view .LVU251
 754 00fa 8B7F      		andi r24,lo8(-5)
 755 00fc 00C0      		rjmp .L78
 756               		.cfi_endproc
 757               	.LFE6:
 759               		.section	.text.mousekey_send,"ax",@progbits
 760               	.global	mousekey_send
 762               	mousekey_send:
 763               	.LFB7:
 178:./tmk_core/common/mousekey.c **** 
 179:./tmk_core/common/mousekey.c **** void mousekey_send(void)
 180:./tmk_core/common/mousekey.c **** {
 764               		.loc 1 180 1 is_stmt 1 view -0
 765               		.cfi_startproc
 766               	/* prologue: function */
 767               	/* frame size = 0 */
 768               	/* stack size = 0 */
 769               	.L__stack_usage = 0
 181:./tmk_core/common/mousekey.c ****     mousekey_debug();
 770               		.loc 1 181 5 view .LVU253
 771               	.LBB23:
 772               	.LBI23:
 182:./tmk_core/common/mousekey.c ****     host_mouse_send(&mouse_report);
 183:./tmk_core/common/mousekey.c ****     last_timer = timer_read();
 184:./tmk_core/common/mousekey.c **** }
 185:./tmk_core/common/mousekey.c **** 
 186:./tmk_core/common/mousekey.c **** void mousekey_clear(void)
 187:./tmk_core/common/mousekey.c **** {
 188:./tmk_core/common/mousekey.c ****     mouse_report = (report_mouse_t){};
 189:./tmk_core/common/mousekey.c ****     mousekey_repeat = 0;
 190:./tmk_core/common/mousekey.c ****     mousekey_accel = 0;
 191:./tmk_core/common/mousekey.c **** }
 192:./tmk_core/common/mousekey.c **** 
 193:./tmk_core/common/mousekey.c **** static void mousekey_debug(void)
 773               		.loc 1 193 13 view .LVU254
 774               	.LBB24:
 194:./tmk_core/common/mousekey.c **** {
 195:./tmk_core/common/mousekey.c ****     if (!debug_mouse) return;
 775               		.loc 1 195 5 view .LVU255
 776               		.loc 1 195 10 is_stmt 0 view .LVU256
 777 0000 8091 0000 		lds r24,debug_config
 778               		.loc 1 195 8 view .LVU257
 779 0004 83FF      		sbrs r24,3
 780 0006 00C0      		rjmp .L80
 196:./tmk_core/common/mousekey.c ****     print("mousekey [btn|x y v h](rep/acl): [");
 781               		.loc 1 196 5 is_stmt 1 view .LVU258
 782               	.LBE24:
 783               	.LBE23:
 784               		.loc 1 196 5 view .LVU259
 785               		.loc 1 196 5 view .LVU260
 786               	.LBB40:
 787               	.LBB25:
 788 0008 80E0      		ldi r24,lo8(__c.2082)
 789 000a 90E0      		ldi r25,hi8(__c.2082)
 790 000c 0E94 0000 		call xputs
 197:./tmk_core/common/mousekey.c ****     phex(mouse_report.buttons); print("|");
 791               		.loc 1 197 5 view .LVU261
 792               	.LBE25:
 793               	.LBE40:
 794               		.loc 1 197 5 view .LVU262
 795               		.loc 1 197 5 view .LVU263
 796               	.LBB41:
 797               	.LBB26:
 798 0010 8091 0000 		lds r24,mouse_report
 799 0014 1F92      		push __zero_reg__
 800               	.LCFI0:
 801               		.cfi_def_cfa_offset 3
 802 0016 8F93      		push r24
 803               	.LCFI1:
 804               		.cfi_def_cfa_offset 4
 805 0018 80E0      		ldi r24,lo8(__c.2084)
 806 001a 90E0      		ldi r25,hi8(__c.2084)
 807 001c 9F93      		push r25
 808               	.LCFI2:
 809               		.cfi_def_cfa_offset 5
 810 001e 8F93      		push r24
 811               	.LCFI3:
 812               		.cfi_def_cfa_offset 6
 813 0020 0E94 0000 		call __xprintf
 814               		.loc 1 197 33 view .LVU264
 815               	.LBE26:
 816               	.LBE41:
 817               		.loc 1 197 33 view .LVU265
 818               		.loc 1 197 33 view .LVU266
 819               	.LBB42:
 820               	.LBB27:
 821 0024 80E0      		ldi r24,lo8(__c.2086)
 822 0026 90E0      		ldi r25,hi8(__c.2086)
 823 0028 0E94 0000 		call xputs
 198:./tmk_core/common/mousekey.c ****     print_decs(mouse_report.x); print(" ");
 824               		.loc 1 198 5 view .LVU267
 825               	.LBE27:
 826               	.LBE42:
 827               		.loc 1 198 5 view .LVU268
 828               		.loc 1 198 5 view .LVU269
 829               	.LBB43:
 830               	.LBB28:
 831 002c 8091 0000 		lds r24,mouse_report+1
 832 0030 282F      		mov r18,r24
 833 0032 082E      		mov __tmp_reg__,r24
 834 0034 000C      		lsl r0
 835 0036 330B      		sbc r19,r19
 836 0038 3F93      		push r19
 837               	.LCFI4:
 838               		.cfi_def_cfa_offset 7
 839 003a 8F93      		push r24
 840               	.LCFI5:
 841               		.cfi_def_cfa_offset 8
 842 003c 80E0      		ldi r24,lo8(__c.2088)
 843 003e 90E0      		ldi r25,hi8(__c.2088)
 844 0040 9F93      		push r25
 845               	.LCFI6:
 846               		.cfi_def_cfa_offset 9
 847 0042 8F93      		push r24
 848               	.LCFI7:
 849               		.cfi_def_cfa_offset 10
 850 0044 0E94 0000 		call __xprintf
 851               		.loc 1 198 33 view .LVU270
 852               	.LBE28:
 853               	.LBE43:
 854               		.loc 1 198 33 view .LVU271
 855               		.loc 1 198 33 view .LVU272
 856               	.LBB44:
 857               	.LBB29:
 858 0048 80E0      		ldi r24,lo8(__c.2090)
 859 004a 90E0      		ldi r25,hi8(__c.2090)
 860 004c 0E94 0000 		call xputs
 199:./tmk_core/common/mousekey.c ****     print_decs(mouse_report.y); print(" ");
 861               		.loc 1 199 5 view .LVU273
 862               	.LBE29:
 863               	.LBE44:
 864               		.loc 1 199 5 view .LVU274
 865               		.loc 1 199 5 view .LVU275
 866               	.LBB45:
 867               	.LBB30:
 868 0050 8091 0000 		lds r24,mouse_report+2
 869 0054 282F      		mov r18,r24
 870 0056 082E      		mov __tmp_reg__,r24
 871 0058 000C      		lsl r0
 872 005a 330B      		sbc r19,r19
 873 005c 3F93      		push r19
 874               	.LCFI8:
 875               		.cfi_def_cfa_offset 11
 876 005e 8F93      		push r24
 877               	.LCFI9:
 878               		.cfi_def_cfa_offset 12
 879 0060 80E0      		ldi r24,lo8(__c.2092)
 880 0062 90E0      		ldi r25,hi8(__c.2092)
 881 0064 9F93      		push r25
 882               	.LCFI10:
 883               		.cfi_def_cfa_offset 13
 884 0066 8F93      		push r24
 885               	.LCFI11:
 886               		.cfi_def_cfa_offset 14
 887 0068 0E94 0000 		call __xprintf
 888               		.loc 1 199 33 view .LVU276
 889               	.LBE30:
 890               	.LBE45:
 891               		.loc 1 199 33 view .LVU277
 892               		.loc 1 199 33 view .LVU278
 893               	.LBB46:
 894               	.LBB31:
 895 006c 80E0      		ldi r24,lo8(__c.2094)
 896 006e 90E0      		ldi r25,hi8(__c.2094)
 897 0070 0E94 0000 		call xputs
 200:./tmk_core/common/mousekey.c ****     print_decs(mouse_report.v); print(" ");
 898               		.loc 1 200 5 view .LVU279
 899               	.LBE31:
 900               	.LBE46:
 901               		.loc 1 200 5 view .LVU280
 902               		.loc 1 200 5 view .LVU281
 903               	.LBB47:
 904               	.LBB32:
 905 0074 8091 0000 		lds r24,mouse_report+3
 906 0078 282F      		mov r18,r24
 907 007a 082E      		mov __tmp_reg__,r24
 908 007c 000C      		lsl r0
 909 007e 330B      		sbc r19,r19
 910 0080 3F93      		push r19
 911               	.LCFI12:
 912               		.cfi_def_cfa_offset 15
 913 0082 8F93      		push r24
 914               	.LCFI13:
 915               		.cfi_def_cfa_offset 16
 916 0084 80E0      		ldi r24,lo8(__c.2096)
 917 0086 90E0      		ldi r25,hi8(__c.2096)
 918 0088 9F93      		push r25
 919               	.LCFI14:
 920               		.cfi_def_cfa_offset 17
 921 008a 8F93      		push r24
 922               	.LCFI15:
 923               		.cfi_def_cfa_offset 18
 924 008c 0E94 0000 		call __xprintf
 925               		.loc 1 200 33 view .LVU282
 926               	.LBE32:
 927               	.LBE47:
 928               		.loc 1 200 33 view .LVU283
 929               		.loc 1 200 33 view .LVU284
 930               	.LBB48:
 931               	.LBB33:
 932 0090 80E0      		ldi r24,lo8(__c.2098)
 933 0092 90E0      		ldi r25,hi8(__c.2098)
 934 0094 0E94 0000 		call xputs
 201:./tmk_core/common/mousekey.c ****     print_decs(mouse_report.h); print("](");
 935               		.loc 1 201 5 view .LVU285
 936               	.LBE33:
 937               	.LBE48:
 938               		.loc 1 201 5 view .LVU286
 939               		.loc 1 201 5 view .LVU287
 940               	.LBB49:
 941               	.LBB34:
 942 0098 8091 0000 		lds r24,mouse_report+4
 943 009c 282F      		mov r18,r24
 944 009e 082E      		mov __tmp_reg__,r24
 945 00a0 000C      		lsl r0
 946 00a2 330B      		sbc r19,r19
 947 00a4 3F93      		push r19
 948               	.LCFI16:
 949               		.cfi_def_cfa_offset 19
 950 00a6 8F93      		push r24
 951               	.LCFI17:
 952               		.cfi_def_cfa_offset 20
 953 00a8 80E0      		ldi r24,lo8(__c.2100)
 954 00aa 90E0      		ldi r25,hi8(__c.2100)
 955 00ac 9F93      		push r25
 956               	.LCFI18:
 957               		.cfi_def_cfa_offset 21
 958 00ae 8F93      		push r24
 959               	.LCFI19:
 960               		.cfi_def_cfa_offset 22
 961 00b0 0E94 0000 		call __xprintf
 962               		.loc 1 201 33 view .LVU288
 963               	.LBE34:
 964               	.LBE49:
 965               		.loc 1 201 33 view .LVU289
 966               		.loc 1 201 33 view .LVU290
 967               	.LBB50:
 968               	.LBB35:
 969 00b4 80E0      		ldi r24,lo8(__c.2102)
 970 00b6 90E0      		ldi r25,hi8(__c.2102)
 971 00b8 0E94 0000 		call xputs
 202:./tmk_core/common/mousekey.c ****     print_dec(mousekey_repeat); print("/");
 972               		.loc 1 202 5 view .LVU291
 973               	.LBE35:
 974               	.LBE50:
 975               		.loc 1 202 5 view .LVU292
 976               		.loc 1 202 5 view .LVU293
 977               	.LBB51:
 978               	.LBB36:
 979 00bc 8091 0000 		lds r24,mousekey_repeat
 980 00c0 1F92      		push __zero_reg__
 981               	.LCFI20:
 982               		.cfi_def_cfa_offset 23
 983 00c2 8F93      		push r24
 984               	.LCFI21:
 985               		.cfi_def_cfa_offset 24
 986 00c4 80E0      		ldi r24,lo8(__c.2104)
 987 00c6 90E0      		ldi r25,hi8(__c.2104)
 988 00c8 9F93      		push r25
 989               	.LCFI22:
 990               		.cfi_def_cfa_offset 25
 991 00ca 8F93      		push r24
 992               	.LCFI23:
 993               		.cfi_def_cfa_offset 26
 994 00cc 0E94 0000 		call __xprintf
 995               		.loc 1 202 33 view .LVU294
 996               	.LBE36:
 997               	.LBE51:
 998               		.loc 1 202 33 view .LVU295
 999               		.loc 1 202 33 view .LVU296
 1000               	.LBB52:
 1001               	.LBB37:
 1002 00d0 80E0      		ldi r24,lo8(__c.2106)
 1003 00d2 90E0      		ldi r25,hi8(__c.2106)
 1004 00d4 0E94 0000 		call xputs
 203:./tmk_core/common/mousekey.c ****     print_dec(mousekey_accel); print(")\n");
 1005               		.loc 1 203 5 view .LVU297
 1006               	.LBE37:
 1007               	.LBE52:
 1008               		.loc 1 203 5 view .LVU298
 1009               		.loc 1 203 5 view .LVU299
 1010               	.LBB53:
 1011               	.LBB38:
 1012 00d8 8091 0000 		lds r24,mousekey_accel
 1013 00dc 1F92      		push __zero_reg__
 1014               	.LCFI24:
 1015               		.cfi_def_cfa_offset 27
 1016 00de 8F93      		push r24
 1017               	.LCFI25:
 1018               		.cfi_def_cfa_offset 28
 1019 00e0 80E0      		ldi r24,lo8(__c.2108)
 1020 00e2 90E0      		ldi r25,hi8(__c.2108)
 1021 00e4 9F93      		push r25
 1022               	.LCFI26:
 1023               		.cfi_def_cfa_offset 29
 1024 00e6 8F93      		push r24
 1025               	.LCFI27:
 1026               		.cfi_def_cfa_offset 30
 1027 00e8 0E94 0000 		call __xprintf
 1028               		.loc 1 203 32 view .LVU300
 1029               	.LBE38:
 1030               	.LBE53:
 1031               		.loc 1 203 32 view .LVU301
 1032               		.loc 1 203 32 view .LVU302
 1033               	.LBB54:
 1034               	.LBB39:
 1035 00ec 80E0      		ldi r24,lo8(__c.2110)
 1036 00ee 90E0      		ldi r25,hi8(__c.2110)
 1037 00f0 0E94 0000 		call xputs
 1038 00f4 8DB7      		in r24,__SP_L__
 1039 00f6 9EB7      		in r25,__SP_H__
 1040 00f8 4C96      		adiw r24,28
 1041 00fa 0FB6      		in __tmp_reg__,__SREG__
 1042 00fc F894      		cli
 1043 00fe 9EBF      		out __SP_H__,r25
 1044 0100 0FBE      		out __SREG__,__tmp_reg__
 1045 0102 8DBF      		out __SP_L__,r24
 1046               	.LCFI28:
 1047               		.cfi_def_cfa_offset 2
 1048               	.L80:
 1049               	.LBE39:
 1050               	.LBE54:
 182:./tmk_core/common/mousekey.c ****     last_timer = timer_read();
 1051               		.loc 1 182 5 view .LVU303
 1052 0104 80E0      		ldi r24,lo8(mouse_report)
 1053 0106 90E0      		ldi r25,hi8(mouse_report)
 1054 0108 0E94 0000 		call host_mouse_send
 183:./tmk_core/common/mousekey.c **** }
 1055               		.loc 1 183 5 view .LVU304
 183:./tmk_core/common/mousekey.c **** }
 1056               		.loc 1 183 18 is_stmt 0 view .LVU305
 1057 010c 0E94 0000 		call timer_read
 183:./tmk_core/common/mousekey.c **** }
 1058               		.loc 1 183 16 view .LVU306
 1059 0110 9093 0000 		sts last_timer+1,r25
 1060 0114 8093 0000 		sts last_timer,r24
 1061               	/* epilogue start */
 184:./tmk_core/common/mousekey.c **** 
 1062               		.loc 1 184 1 view .LVU307
 1063 0118 0895      		ret
 1064               		.cfi_endproc
 1065               	.LFE7:
 1067               		.section	.text.mousekey_task,"ax",@progbits
 1068               	.global	mousekey_task
 1070               	mousekey_task:
 1071               	.LFB4:
 106:./tmk_core/common/mousekey.c ****     if (timer_elapsed(last_timer) < (mousekey_repeat ? mk_interval : mk_delay*10))
 1072               		.loc 1 106 1 is_stmt 1 view -0
 1073               		.cfi_startproc
 1074 0000 1F93      		push r17
 1075               	.LCFI29:
 1076               		.cfi_def_cfa_offset 3
 1077               		.cfi_offset 17, -2
 1078 0002 CF93      		push r28
 1079               	.LCFI30:
 1080               		.cfi_def_cfa_offset 4
 1081               		.cfi_offset 28, -3
 1082 0004 DF93      		push r29
 1083               	.LCFI31:
 1084               		.cfi_def_cfa_offset 5
 1085               		.cfi_offset 29, -4
 1086               	/* prologue: function */
 1087               	/* frame size = 0 */
 1088               	/* stack size = 3 */
 1089               	.L__stack_usage = 3
 107:./tmk_core/common/mousekey.c ****         return;
 1090               		.loc 1 107 5 view .LVU309
 107:./tmk_core/common/mousekey.c ****         return;
 1091               		.loc 1 107 9 is_stmt 0 view .LVU310
 1092 0006 8091 0000 		lds r24,last_timer
 1093 000a 9091 0000 		lds r25,last_timer+1
 1094 000e 0E94 0000 		call timer_elapsed
 1095               	.LVL79:
 1096 0012 AC01      		movw r20,r24
 107:./tmk_core/common/mousekey.c ****         return;
 1097               		.loc 1 107 54 view .LVU311
 1098 0014 8091 0000 		lds r24,mousekey_repeat
 107:./tmk_core/common/mousekey.c ****         return;
 1099               		.loc 1 107 68 view .LVU312
 1100 0018 2091 0000 		lds r18,mk_interval
 1101 001c 30E0      		ldi r19,0
 1102 001e 8111      		cpse r24,__zero_reg__
 1103 0020 00C0      		rjmp .L86
 107:./tmk_core/common/mousekey.c ****         return;
 1104               		.loc 1 107 78 discriminator 2 view .LVU313
 1105 0022 2091 0000 		lds r18,mk_delay
 1106 0026 9AE0      		ldi r25,lo8(10)
 1107 0028 299F      		mul r18,r25
 1108 002a 9001      		movw r18,r0
 1109 002c 1124      		clr __zero_reg__
 1110               	.L86:
 107:./tmk_core/common/mousekey.c ****         return;
 1111               		.loc 1 107 8 discriminator 4 view .LVU314
 1112 002e 4217      		cp r20,r18
 1113 0030 5307      		cpc r21,r19
 1114 0032 00F0      		brlo .L84
 110:./tmk_core/common/mousekey.c ****         return;
 1115               		.loc 1 110 5 is_stmt 1 view .LVU315
 110:./tmk_core/common/mousekey.c ****         return;
 1116               		.loc 1 110 21 is_stmt 0 view .LVU316
 1117 0034 2091 0000 		lds r18,mouse_report+1
 1118 0038 C091 0000 		lds r28,mouse_report+2
 1119 003c 1091 0000 		lds r17,mouse_report+3
 1120 0040 D091 0000 		lds r29,mouse_report+4
 110:./tmk_core/common/mousekey.c ****         return;
 1121               		.loc 1 110 8 view .LVU317
 1122 0044 2111      		cpse r18,__zero_reg__
 1123 0046 00C0      		rjmp .L88
 110:./tmk_core/common/mousekey.c ****         return;
 1124               		.loc 1 110 75 discriminator 1 view .LVU318
 1125 0048 9C2F      		mov r25,r28
 1126 004a 912B      		or r25,r17
 1127 004c 9D2B      		or r25,r29
 1128 004e 01F0      		breq .+2
 1129 0050 00C0      		rjmp .L113
 1130               	.L84:
 1131               	/* epilogue start */
 134:./tmk_core/common/mousekey.c **** 
 1132               		.loc 1 134 1 view .LVU319
 1133 0052 DF91      		pop r29
 1134 0054 CF91      		pop r28
 1135 0056 1F91      		pop r17
 1136 0058 0895      		ret
 1137               	.L88:
 113:./tmk_core/common/mousekey.c ****         mousekey_repeat++;
 1138               		.loc 1 113 5 is_stmt 1 view .LVU320
 113:./tmk_core/common/mousekey.c ****         mousekey_repeat++;
 1139               		.loc 1 113 8 is_stmt 0 view .LVU321
 1140 005a 8F3F      		cpi r24,lo8(-1)
 1141 005c 01F0      		breq .L90
 1142               	.L100:
 114:./tmk_core/common/mousekey.c **** 
 1143               		.loc 1 114 9 is_stmt 1 view .LVU322
 114:./tmk_core/common/mousekey.c **** 
 1144               		.loc 1 114 24 is_stmt 0 view .LVU323
 1145 005e 8F5F      		subi r24,lo8(-(1))
 1146 0060 8093 0000 		sts mousekey_repeat,r24
 1147               	.L90:
 117:./tmk_core/common/mousekey.c ****     if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 1148               		.loc 1 117 5 is_stmt 1 view .LVU324
 117:./tmk_core/common/mousekey.c ****     if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 1149               		.loc 1 117 8 is_stmt 0 view .LVU325
 1150 0064 1216      		cp __zero_reg__,r18
 1151 0066 04F4      		brge .L91
 117:./tmk_core/common/mousekey.c ****     if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 1152               		.loc 1 117 29 is_stmt 1 discriminator 1 view .LVU326
 117:./tmk_core/common/mousekey.c ****     if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 1153               		.loc 1 117 46 is_stmt 0 discriminator 1 view .LVU327
 1154 0068 0E94 0000 		call move_unit
 1155               	.LVL80:
 117:./tmk_core/common/mousekey.c ****     if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 1156               		.loc 1 117 44 discriminator 1 view .LVU328
 1157 006c 8093 0000 		sts mouse_report+1,r24
 1158               	.L91:
 118:./tmk_core/common/mousekey.c ****     if (mouse_report.y > 0) mouse_report.y = move_unit();
 1159               		.loc 1 118 5 is_stmt 1 view .LVU329
 118:./tmk_core/common/mousekey.c ****     if (mouse_report.y > 0) mouse_report.y = move_unit();
 1160               		.loc 1 118 8 is_stmt 0 view .LVU330
 1161 0070 8091 0000 		lds r24,mouse_report+1
 1162 0074 87FF      		sbrs r24,7
 1163 0076 00C0      		rjmp .L92
 118:./tmk_core/common/mousekey.c ****     if (mouse_report.y > 0) mouse_report.y = move_unit();
 1164               		.loc 1 118 29 is_stmt 1 discriminator 1 view .LVU331
 118:./tmk_core/common/mousekey.c ****     if (mouse_report.y > 0) mouse_report.y = move_unit();
 1165               		.loc 1 118 46 is_stmt 0 discriminator 1 view .LVU332
 1166 0078 0E94 0000 		call move_unit
 1167               	.LVL81:
 118:./tmk_core/common/mousekey.c ****     if (mouse_report.y > 0) mouse_report.y = move_unit();
 1168               		.loc 1 118 44 discriminator 1 view .LVU333
 1169 007c 8195      		neg r24
 1170 007e 8093 0000 		sts mouse_report+1,r24
 1171               	.L92:
 119:./tmk_core/common/mousekey.c ****     if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 1172               		.loc 1 119 5 is_stmt 1 view .LVU334
 119:./tmk_core/common/mousekey.c ****     if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 1173               		.loc 1 119 8 is_stmt 0 view .LVU335
 1174 0082 1C16      		cp __zero_reg__,r28
 1175 0084 04F4      		brge .L93
 119:./tmk_core/common/mousekey.c ****     if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 1176               		.loc 1 119 29 is_stmt 1 discriminator 1 view .LVU336
 119:./tmk_core/common/mousekey.c ****     if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 1177               		.loc 1 119 46 is_stmt 0 discriminator 1 view .LVU337
 1178 0086 0E94 0000 		call move_unit
 1179               	.LVL82:
 119:./tmk_core/common/mousekey.c ****     if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 1180               		.loc 1 119 44 discriminator 1 view .LVU338
 1181 008a 8093 0000 		sts mouse_report+2,r24
 1182               	.L93:
 120:./tmk_core/common/mousekey.c **** 
 1183               		.loc 1 120 5 is_stmt 1 view .LVU339
 120:./tmk_core/common/mousekey.c **** 
 1184               		.loc 1 120 8 is_stmt 0 view .LVU340
 1185 008e 8091 0000 		lds r24,mouse_report+2
 1186 0092 87FF      		sbrs r24,7
 1187 0094 00C0      		rjmp .L94
 120:./tmk_core/common/mousekey.c **** 
 1188               		.loc 1 120 29 is_stmt 1 discriminator 1 view .LVU341
 120:./tmk_core/common/mousekey.c **** 
 1189               		.loc 1 120 46 is_stmt 0 discriminator 1 view .LVU342
 1190 0096 0E94 0000 		call move_unit
 1191               	.LVL83:
 120:./tmk_core/common/mousekey.c **** 
 1192               		.loc 1 120 44 discriminator 1 view .LVU343
 1193 009a 8195      		neg r24
 1194 009c 8093 0000 		sts mouse_report+2,r24
 1195               	.L94:
 123:./tmk_core/common/mousekey.c ****         mouse_report.x = times_inv_sqrt2(mouse_report.x);
 1196               		.loc 1 123 5 is_stmt 1 view .LVU344
 123:./tmk_core/common/mousekey.c ****         mouse_report.x = times_inv_sqrt2(mouse_report.x);
 1197               		.loc 1 123 21 is_stmt 0 view .LVU345
 1198 00a0 4091 0000 		lds r20,mouse_report+1
 123:./tmk_core/common/mousekey.c ****         mouse_report.x = times_inv_sqrt2(mouse_report.x);
 1199               		.loc 1 123 8 view .LVU346
 1200 00a4 4423      		tst r20
 1201 00a6 01F0      		breq .L95
 123:./tmk_core/common/mousekey.c ****         mouse_report.x = times_inv_sqrt2(mouse_report.x);
 1202               		.loc 1 123 39 discriminator 1 view .LVU347
 1203 00a8 3091 0000 		lds r19,mouse_report+2
 123:./tmk_core/common/mousekey.c ****         mouse_report.x = times_inv_sqrt2(mouse_report.x);
 1204               		.loc 1 123 24 discriminator 1 view .LVU348
 1205 00ac 3323      		tst r19
 1206 00ae 01F0      		breq .L95
 124:./tmk_core/common/mousekey.c ****         mouse_report.y = times_inv_sqrt2(mouse_report.y);
 1207               		.loc 1 124 9 is_stmt 1 view .LVU349
 1208               	.LVL84:
 1209               	.LBB55:
 1210               	.LBI55:
  58:./tmk_core/common/mousekey.c **** {
 1211               		.loc 1 58 15 view .LVU350
 1212               	.LBB56:
  64:./tmk_core/common/mousekey.c **** }
 1213               		.loc 1 64 5 view .LVU351
  64:./tmk_core/common/mousekey.c **** }
 1214               		.loc 1 64 15 is_stmt 0 view .LVU352
 1215 00b0 25EB      		ldi r18,lo8(-75)
 1216 00b2 4203      		mulsu r20,r18
 1217 00b4 A001      		movw r20,r0
 1218 00b6 1124      		clr __zero_reg__
  64:./tmk_core/common/mousekey.c **** }
 1219               		.loc 1 64 22 view .LVU353
 1220 00b8 5093 0000 		sts mouse_report+1,r21
 1221               	.LBE56:
 1222               	.LBE55:
 125:./tmk_core/common/mousekey.c ****     }
 1223               		.loc 1 125 9 is_stmt 1 view .LVU354
 1224               	.LVL85:
 1225               	.LBB57:
 1226               	.LBI57:
  58:./tmk_core/common/mousekey.c **** {
 1227               		.loc 1 58 15 view .LVU355
 1228               	.LBB58:
  64:./tmk_core/common/mousekey.c **** }
 1229               		.loc 1 64 5 view .LVU356
  64:./tmk_core/common/mousekey.c **** }
 1230               		.loc 1 64 15 is_stmt 0 view .LVU357
 1231 00bc 3203      		mulsu r19,r18
 1232 00be 9001      		movw r18,r0
 1233 00c0 1124      		clr __zero_reg__
  64:./tmk_core/common/mousekey.c **** }
 1234               		.loc 1 64 22 view .LVU358
 1235 00c2 3093 0000 		sts mouse_report+2,r19
 1236               	.L95:
 1237               	.LBE58:
 1238               	.LBE57:
 128:./tmk_core/common/mousekey.c ****     if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 1239               		.loc 1 128 5 is_stmt 1 view .LVU359
 128:./tmk_core/common/mousekey.c ****     if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 1240               		.loc 1 128 8 is_stmt 0 view .LVU360
 1241 00c6 1116      		cp __zero_reg__,r17
 1242 00c8 04F4      		brge .L96
 128:./tmk_core/common/mousekey.c ****     if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 1243               		.loc 1 128 29 is_stmt 1 discriminator 1 view .LVU361
 128:./tmk_core/common/mousekey.c ****     if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 1244               		.loc 1 128 46 is_stmt 0 discriminator 1 view .LVU362
 1245 00ca 0E94 0000 		call wheel_unit
 1246               	.LVL86:
 128:./tmk_core/common/mousekey.c ****     if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 1247               		.loc 1 128 44 discriminator 1 view .LVU363
 1248 00ce 8093 0000 		sts mouse_report+3,r24
 1249               	.L96:
 129:./tmk_core/common/mousekey.c ****     if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 1250               		.loc 1 129 5 is_stmt 1 view .LVU364
 129:./tmk_core/common/mousekey.c ****     if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 1251               		.loc 1 129 8 is_stmt 0 view .LVU365
 1252 00d2 8091 0000 		lds r24,mouse_report+3
 1253 00d6 87FF      		sbrs r24,7
 1254 00d8 00C0      		rjmp .L97
 129:./tmk_core/common/mousekey.c ****     if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 1255               		.loc 1 129 29 is_stmt 1 discriminator 1 view .LVU366
 129:./tmk_core/common/mousekey.c ****     if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 1256               		.loc 1 129 46 is_stmt 0 discriminator 1 view .LVU367
 1257 00da 0E94 0000 		call wheel_unit
 1258               	.LVL87:
 129:./tmk_core/common/mousekey.c ****     if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 1259               		.loc 1 129 44 discriminator 1 view .LVU368
 1260 00de 8195      		neg r24
 1261 00e0 8093 0000 		sts mouse_report+3,r24
 1262               	.L97:
 130:./tmk_core/common/mousekey.c ****     if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1263               		.loc 1 130 5 is_stmt 1 view .LVU369
 130:./tmk_core/common/mousekey.c ****     if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1264               		.loc 1 130 8 is_stmt 0 view .LVU370
 1265 00e4 1D16      		cp __zero_reg__,r29
 1266 00e6 04F4      		brge .L98
 130:./tmk_core/common/mousekey.c ****     if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1267               		.loc 1 130 29 is_stmt 1 discriminator 1 view .LVU371
 130:./tmk_core/common/mousekey.c ****     if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1268               		.loc 1 130 46 is_stmt 0 discriminator 1 view .LVU372
 1269 00e8 0E94 0000 		call wheel_unit
 1270               	.LVL88:
 130:./tmk_core/common/mousekey.c ****     if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1271               		.loc 1 130 44 discriminator 1 view .LVU373
 1272 00ec 8093 0000 		sts mouse_report+4,r24
 1273               	.L98:
 131:./tmk_core/common/mousekey.c **** 
 1274               		.loc 1 131 5 is_stmt 1 view .LVU374
 131:./tmk_core/common/mousekey.c **** 
 1275               		.loc 1 131 8 is_stmt 0 view .LVU375
 1276 00f0 8091 0000 		lds r24,mouse_report+4
 1277 00f4 87FF      		sbrs r24,7
 1278 00f6 00C0      		rjmp .L99
 131:./tmk_core/common/mousekey.c **** 
 1279               		.loc 1 131 29 is_stmt 1 discriminator 1 view .LVU376
 131:./tmk_core/common/mousekey.c **** 
 1280               		.loc 1 131 46 is_stmt 0 discriminator 1 view .LVU377
 1281 00f8 0E94 0000 		call wheel_unit
 1282               	.LVL89:
 131:./tmk_core/common/mousekey.c **** 
 1283               		.loc 1 131 44 discriminator 1 view .LVU378
 1284 00fc 8195      		neg r24
 1285 00fe 8093 0000 		sts mouse_report+4,r24
 1286               	.L99:
 133:./tmk_core/common/mousekey.c **** }
 1287               		.loc 1 133 5 is_stmt 1 view .LVU379
 1288               	/* epilogue start */
 134:./tmk_core/common/mousekey.c **** 
 1289               		.loc 1 134 1 is_stmt 0 view .LVU380
 1290 0102 DF91      		pop r29
 1291 0104 CF91      		pop r28
 1292 0106 1F91      		pop r17
 133:./tmk_core/common/mousekey.c **** }
 1293               		.loc 1 133 5 view .LVU381
 1294 0108 0C94 0000 		jmp mousekey_send
 1295               	.LVL90:
 1296               	.L113:
 113:./tmk_core/common/mousekey.c ****         mousekey_repeat++;
 1297               		.loc 1 113 5 is_stmt 1 view .LVU382
 113:./tmk_core/common/mousekey.c ****         mousekey_repeat++;
 1298               		.loc 1 113 8 is_stmt 0 view .LVU383
 1299 010c 8F3F      		cpi r24,lo8(-1)
 1300 010e 01F0      		breq .+2
 1301 0110 00C0      		rjmp .L100
 1302 0112 00C0      		rjmp .L92
 1303               		.cfi_endproc
 1304               	.LFE4:
 1306               		.section	.text.mousekey_clear,"ax",@progbits
 1307               	.global	mousekey_clear
 1309               	mousekey_clear:
 1310               	.LFB8:
 187:./tmk_core/common/mousekey.c ****     mouse_report = (report_mouse_t){};
 1311               		.loc 1 187 1 is_stmt 1 view -0
 1312               		.cfi_startproc
 1313               	/* prologue: function */
 1314               	/* frame size = 0 */
 1315               	/* stack size = 0 */
 1316               	.L__stack_usage = 0
 188:./tmk_core/common/mousekey.c ****     mousekey_repeat = 0;
 1317               		.loc 1 188 5 view .LVU385
 188:./tmk_core/common/mousekey.c ****     mousekey_repeat = 0;
 1318               		.loc 1 188 18 is_stmt 0 view .LVU386
 1319 0000 85E0      		ldi r24,lo8(5)
 1320 0002 E0E0      		ldi r30,lo8(mouse_report)
 1321 0004 F0E0      		ldi r31,hi8(mouse_report)
 1322 0006 DF01      		movw r26,r30
 1323               		0:
 1324 0008 1D92      		st X+,__zero_reg__
 1325 000a 8A95      		dec r24
 1326 000c 01F4      		brne 0b
 189:./tmk_core/common/mousekey.c ****     mousekey_accel = 0;
 1327               		.loc 1 189 5 is_stmt 1 view .LVU387
 189:./tmk_core/common/mousekey.c ****     mousekey_accel = 0;
 1328               		.loc 1 189 21 is_stmt 0 view .LVU388
 1329 000e 1092 0000 		sts mousekey_repeat,__zero_reg__
 190:./tmk_core/common/mousekey.c **** }
 1330               		.loc 1 190 5 is_stmt 1 view .LVU389
 190:./tmk_core/common/mousekey.c **** }
 1331               		.loc 1 190 20 is_stmt 0 view .LVU390
 1332 0012 1092 0000 		sts mousekey_accel,__zero_reg__
 1333               	/* epilogue start */
 191:./tmk_core/common/mousekey.c **** 
 1334               		.loc 1 191 1 view .LVU391
 1335 0016 0895      		ret
 1336               		.cfi_endproc
 1337               	.LFE8:
 1339               		.section	.progmem.data.__c.2110,"a"
 1342               	__c.2110:
 1343 0000 290A 00   		.string	")\n"
 1344               		.section	.progmem.data.__c.2108,"a"
 1347               	__c.2108:
 1348 0000 2575 00   		.string	"%u"
 1349               		.section	.progmem.data.__c.2106,"a"
 1352               	__c.2106:
 1353 0000 2F00      		.string	"/"
 1354               		.section	.progmem.data.__c.2104,"a"
 1357               	__c.2104:
 1358 0000 2575 00   		.string	"%u"
 1359               		.section	.progmem.data.__c.2102,"a"
 1362               	__c.2102:
 1363 0000 5D28 00   		.string	"]("
 1364               		.section	.progmem.data.__c.2100,"a"
 1367               	__c.2100:
 1368 0000 2564 00   		.string	"%d"
 1369               		.section	.progmem.data.__c.2098,"a"
 1372               	__c.2098:
 1373 0000 2000      		.string	" "
 1374               		.section	.progmem.data.__c.2096,"a"
 1377               	__c.2096:
 1378 0000 2564 00   		.string	"%d"
 1379               		.section	.progmem.data.__c.2094,"a"
 1382               	__c.2094:
 1383 0000 2000      		.string	" "
 1384               		.section	.progmem.data.__c.2092,"a"
 1387               	__c.2092:
 1388 0000 2564 00   		.string	"%d"
 1389               		.section	.progmem.data.__c.2090,"a"
 1392               	__c.2090:
 1393 0000 2000      		.string	" "
 1394               		.section	.progmem.data.__c.2088,"a"
 1397               	__c.2088:
 1398 0000 2564 00   		.string	"%d"
 1399               		.section	.progmem.data.__c.2086,"a"
 1402               	__c.2086:
 1403 0000 7C00      		.string	"|"
 1404               		.section	.progmem.data.__c.2084,"a"
 1407               	__c.2084:
 1408 0000 2530 3258 		.string	"%02X"
 1408      00
 1409               		.section	.progmem.data.__c.2082,"a"
 1412               	__c.2082:
 1413 0000 6D6F 7573 		.string	"mousekey [btn|x y v h](rep/acl): ["
 1413      656B 6579 
 1413      205B 6274 
 1413      6E7C 7820 
 1413      7920 7620 
 1414               		.section	.bss.last_timer,"aw",@nobits
 1417               	last_timer:
 1418 0000 0000      		.zero	2
 1419               	.global	mk_wheel_time_to_max
 1420               		.section	.data.mk_wheel_time_to_max,"aw"
 1423               	mk_wheel_time_to_max:
 1424 0000 28        		.byte	40
 1425               	.global	mk_wheel_max_speed
 1426               		.section	.data.mk_wheel_max_speed,"aw"
 1429               	mk_wheel_max_speed:
 1430 0000 08        		.byte	8
 1431               	.global	mk_time_to_max
 1432               		.section	.data.mk_time_to_max,"aw"
 1435               	mk_time_to_max:
 1436 0000 3C        		.byte	60
 1437               	.global	mk_max_speed
 1438               		.section	.data.mk_max_speed,"aw"
 1441               	mk_max_speed:
 1442 0000 07        		.byte	7
 1443               	.global	mk_interval
 1444               		.section	.data.mk_interval,"aw"
 1447               	mk_interval:
 1448 0000 10        		.byte	16
 1449               	.global	mk_delay
 1450               		.section	.bss.mk_delay,"aw",@nobits
 1453               	mk_delay:
 1454 0000 00        		.zero	1
 1455               		.section	.bss.mousekey_accel,"aw",@nobits
 1458               	mousekey_accel:
 1459 0000 00        		.zero	1
 1460               		.section	.bss.mousekey_repeat,"aw",@nobits
 1463               	mousekey_repeat:
 1464 0000 00        		.zero	1
 1465               		.section	.bss.mouse_report,"aw",@nobits
 1468               	mouse_report:
 1469 0000 0000 0000 		.zero	5
 1469      00
 1470               		.text
 1471               	.Letext0:
 1472               		.file 2 "/usr/local/Cellar/avr-gcc@9/9.3.0_3/avr/include/stdint.h"
 1473               		.file 3 "./tmk_core/common/report.h"
 1474               		.file 4 "./tmk_core/common/host.h"
 1475               		.file 5 "./tmk_core/common/timer.h"
 1476               		.file 6 "./tmk_core/common/avr/xprintf.h"
 1477               		.file 7 "./tmk_core/common/debug.h"
 1478               		.file 8 "./tmk_core/common/mousekey.h"
 1479               		.file 9 "./tmk_core/common/keycode.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 mousekey.c
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:4      *ABS*:000000000000003f __SREG__
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:12     .text.move_unit:0000000000000000 move_unit
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1458   .bss.mousekey_accel:0000000000000000 mousekey_accel
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1441   .data.mk_max_speed:0000000000000000 mk_max_speed
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1463   .bss.mousekey_repeat:0000000000000000 mousekey_repeat
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1435   .data.mk_time_to_max:0000000000000000 mk_time_to_max
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:150    .text.wheel_unit:0000000000000000 wheel_unit
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1429   .data.mk_wheel_max_speed:0000000000000000 mk_wheel_max_speed
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1423   .data.mk_wheel_time_to_max:0000000000000000 mk_wheel_time_to_max
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:266    .text.mousekey_on:0000000000000000 mousekey_on
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1468   .bss.mouse_report:0000000000000000 mouse_report
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:503    .text.mousekey_off:0000000000000000 mousekey_off
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:762    .text.mousekey_send:0000000000000000 mousekey_send
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1412   .progmem.data.__c.2082:0000000000000000 __c.2082
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1407   .progmem.data.__c.2084:0000000000000000 __c.2084
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1402   .progmem.data.__c.2086:0000000000000000 __c.2086
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1397   .progmem.data.__c.2088:0000000000000000 __c.2088
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1392   .progmem.data.__c.2090:0000000000000000 __c.2090
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1387   .progmem.data.__c.2092:0000000000000000 __c.2092
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1382   .progmem.data.__c.2094:0000000000000000 __c.2094
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1377   .progmem.data.__c.2096:0000000000000000 __c.2096
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1372   .progmem.data.__c.2098:0000000000000000 __c.2098
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1367   .progmem.data.__c.2100:0000000000000000 __c.2100
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1362   .progmem.data.__c.2102:0000000000000000 __c.2102
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1357   .progmem.data.__c.2104:0000000000000000 __c.2104
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1352   .progmem.data.__c.2106:0000000000000000 __c.2106
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1347   .progmem.data.__c.2108:0000000000000000 __c.2108
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1342   .progmem.data.__c.2110:0000000000000000 __c.2110
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1417   .bss.last_timer:0000000000000000 last_timer
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1070   .text.mousekey_task:0000000000000000 mousekey_task
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1447   .data.mk_interval:0000000000000000 mk_interval
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1453   .bss.mk_delay:0000000000000000 mk_delay
/var/folders/_p/hcjbsmwn4x14x6mnhxrqw_c80000gn/T//ccuEweHC.s:1309   .text.mousekey_clear:0000000000000000 mousekey_clear

UNDEFINED SYMBOLS
__divmodhi4
debug_config
xputs
__xprintf
host_mouse_send
timer_read
timer_elapsed
__do_copy_data
__do_clear_bss
